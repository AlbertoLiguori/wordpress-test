jQuery(document).ready(function(a){"use strict";var c,Y,W,r,q,m,b,V,U,l,o,t,aB,h,i,aD,aC,aE,aA,G,P,Q,Z,ax,v,x,B,aw,u,E,ak,C,H,ag,J,K,af,n,w,O,ad,j,aH,S,N,ac,ab,aa,y,d,s,e,_,f,g,p,A,ae,D,I,ah,ai,aj,F,am,an,ao,ap,aq,ar,at,au,av,L,X,M,k,z,R,T,az,al,$;if(typeof HOMEY_ajax_vars!="undefined"){c=HOMEY_ajax_vars.admin_url+'admin-ajax.php',Y=HOMEY_ajax_vars.redirect_type,W=HOMEY_ajax_vars.login_redirect,r=HOMEY_ajax_vars.is_singular_listing,q=HOMEY_ajax_vars.paypal_connecting,m=HOMEY_ajax_vars.login_loading,b=HOMEY_ajax_vars.process_loader_spinner,V=HOMEY_ajax_vars.currency_updating_msg,U=HOMEY_ajax_vars.homey_date_format,l=HOMEY_ajax_vars.user_id,o=HOMEY_ajax_vars.homey_reCaptcha,t=HOMEY_ajax_vars.processing_text,aB=HOMEY_ajax_vars.is_listing_detail,h=HOMEY_ajax_vars.booked_hours_array,i=HOMEY_ajax_vars.pending_hours_array,aD=HOMEY_ajax_vars.booking_start_hour,aC=HOMEY_ajax_vars.booking_end_hour,aE=HOMEY_ajax_vars.homey_min_book_days,h!==''&&h.length!==0&&(h=JSON.parse(h)),i!==''&&i.length!==0&&(i=JSON.parse(i)),aA=HOMEY_ajax_vars.homey_tansparent,G=HOMEY_ajax_vars.retina_logo,P=HOMEY_ajax_vars.retina_logo_splash,Q=HOMEY_ajax_vars.retina_logo_mobile,Z=HOMEY_ajax_vars.retina_logo_mobile_splash,ax=HOMEY_ajax_vars.no_more_listings,v=HOMEY_ajax_vars.allow_additional_guests,x=HOMEY_ajax_vars.allowed_guests_num,B=HOMEY_ajax_vars.num_additional_guests,aw=HOMEY_ajax_vars.agree_term_text,u=HOMEY_ajax_vars.choose_gateway_text,E=HOMEY_ajax_vars.success_icon,ak=HOMEY_ajax_vars.calendar_link,C=null,H=parseInt(x)+parseInt(B),ag=HOMEY_ajax_vars.compare_url,J=HOMEY_ajax_vars.add_compare,K=HOMEY_ajax_vars.remove_compare,af=HOMEY_ajax_vars.compare_limit,n=HOMEY_ajax_vars.homey_booking_type,w=HOMEY_ajax_vars.homey_is_rtl,w=='yes'?w=!0:w=!1,O=!1,/Android|webOS|iPhone|iPad|iPod|tablet|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(O=!0),ad=a(window).width(),j=function(b){var c='<div class="modal fade" id="homey_modal" tabindex="-1" role="dialog" aria-labelledby="homeyModalLabel" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-body homey_messages_modal">'+b+'</div></div></div></div></div>';a('body').append(c),a('#homey_modal').modal()},aH=function(){a('#homey_modal').modal('hide')},S=function(b){var a=b.split("-"),c=a[1]+"/"+a[0]+"/"+a[2];return new Date(c).getTime()},window.devicePixelRatio==2&&(aA?(P!=''&&a(".transparent-header .homey_logo img").attr("src",P),Z!=''&&a(".mobile-logo img").attr("src",Z)):(G!=''&&a(".homey_logo img").attr("src",G),Q!=''&&a(".mobile-logo img").attr("src",Q))),N=a('#homey-currency-switcher-list'),N.length>0&&a('#homey-currency-switcher-list > li').on('click',function(e){e.stopPropagation(),N.slideUp(200);var d=a(this).data('currency-code');d&&(a('.homey-selected-currency span').html(d),j('<i class="'+b+'"></i> '+V),a.ajax({url:c,dataType:'JSON',method:'POST',data:{action:'homey_currency_converter',currency_to_converter:d},success:function(a){a.success?window.location.reload():console.log(a)},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)}}))}),a('.homey-currency-switcher').on('change',function(e){var d=a(this).val();d&&(j('<i class="'+b+'"></i> '+V),a.ajax({url:c,dataType:'JSON',method:'POST',data:{action:'homey_currency_converter',currency_to_converter:d},success:function(a){a.success?window.location.reload():console.log(a)},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)}}))}),ac=a('#listings_module_section'),ac.length>0&&a("body").on('click','.homey-loadmore a',function(v){var b,g,f,d,h,i,j,k,m,n,o,p,q,s,t,u,e;v.preventDefault(),b=a(this),g=b.closest('#listings_module_section').find('#module_listings'),f=b.data('limit'),d=b.data('paged'),h=b.data('style'),i=b.data('type'),j=b.data('roomtype'),k=b.data('country'),m=b.data('state'),n=b.data('city'),o=b.data('area'),p=b.data('featured'),q=b.data('offset'),s=b.data('sortby'),t=b.data('booking_type'),u=b.data('author'),e=b.data('authorid'),a.ajax({type:'POST',url:c,data:{action:'homey_loadmore_listings',limit:f,paged:d,style:h,type:i,roomtype:j,country:k,state:m,city:n,area:o,featured:p,sort_by:s,offset:q,booking_type:t,author:u,authorid:e},beforeSend:function(){b.find('i').css('display','inline-block')},success:function(a){if(a=='no_result'){b.closest('#listings_module_section').find('.homey-loadmore').text(ax);return}g.append(a),b.data("paged",d+1),homey_init_add_favorite(c,l,r),homey_init_remove_favorite(c,l,r),ab()},complete:function(){b.find('i').css('display','none')},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)}})}),homey_init_add_favorite(c,l,r),homey_init_remove_favorite(c,l,r),ab=function(){var a=homeyGetCookie('homey_compare_listings'),b=4;add_to_compare(ag,J,K,af,a,b),remove_from_compare(a,J,K)},a('#homey_complete_order').on('click',function(f){var c,b,d,e;f.preventDefault(),b=a("input[name='homey_payment_type']:checked").val(),e=a("input[name='is_upgrade']").val(),d=a('#listing_id').val(),b=='paypal'?(j(q),aa(d,e)):b=='stripe'&&(c=a(this).parents('.dashboard-area'),c.find('.homey_stripe_simple button').trigger("click"))}),aa=function(b,d){a.ajax({type:'post',url:c,data:{action:'homey_listing_paypal_payment',listing_id:b,is_upgrade:d},success:function(a){window.location.href=a},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)}})},a('#add_review').length>0&&a('#add_review').on('click',function(k){var d,g,h,i,j,f,e;k.preventDefault(),d=a(this),g=a('#rating').val(),h=a('#review_action').val(),i=a('#review_content').val(),j=a('#review_reservation_id').val(),f=a('#review-security').val(),e=d.parents('.user-dashboard-right'),a.ajax({type:'post',url:c,dataType:'json',data:{action:'homey_add_review',rating:g,review_action:h,review_content:i,review_reservation_id:j,security:f},beforeSend:function(){d.children('i').remove(),d.prepend('<i class="fa-left '+b+'"></i>')},success:function(a){e.find('.alert').remove(),a.success?(d.attr("disabled",!0),window.location.reload()):e.find('.dashboard-area').prepend('<div class="alert alert-danger alert-dismissible" role="alert"><button type="button" class="close" data-hide="alert" aria-label="Close"><i class="fa fa-close"></i></button>'+a.message+'</div>')},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)},complete:function(){d.children('i').removeClass(b)}})}),a('#add_guest_review').length>0&&a('#add_guest_review').on('click',function(k){var d,g,h,i,j,f,e;k.preventDefault(),d=a(this),g=a('#rating').val(),h=a('#review_guest_action').val(),i=a('#review_content').val(),j=a('#review_guest_reservation_id').val(),f=a('#review-security').val(),e=d.parents('.user-dashboard-right'),a.ajax({type:'post',url:c,dataType:'json',data:{action:'homey_add_guest_review',rating:g,review_action:h,review_content:i,review_guest_reservation_id:j,security:f},beforeSend:function(){d.children('i').remove(),d.prepend('<i class="fa-left '+b+'"></i>')},success:function(a){e.find('.alert').remove(),a.success?(d.attr("disabled",!0),window.location.reload()):e.find('.dashboard-area').prepend('<div class="alert alert-danger alert-dismissible" role="alert"><button type="button" class="close" data-hide="alert" aria-label="Close"><i class="fa fa-close"></i></button>'+a.message+'</div>')},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)},complete:function(){d.children('i').removeClass(b)}})}),y=function(d,e,f){var b=a('#homey_reviews');a.ajax({type:'post',url:c,data:{action:'homey_ajax_review',sortby:d,listing_id:e,paged:f},beforeSend:function(){},success:function(a){b.empty(),b.html(a)},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)},complete:function(){}})},a('#sort_review').length>0&&a('#sort_review').on('change',function(){var b=a(this).val(),c=a('#review_listing_id').val(),d=a('#review_paged').val();y(b,c,d)}),a('#review_next').length>0&&a('#review_next').on('click',function(f){var c,d,e,b;f.preventDefault(),a('#review_prev').removeAttr('disabled'),c=a('#page_sort').val(),d=a('#total_pages').val(),e=a('#review_listing_id').val(),b=a('#review_paged').val(),b=Number(b)+1,a('#review_paged').val(b),b==d&&a(this).attr('disabled',!0),y(c,e,b)}),a('#review_prev').length>0&&a('#review_prev').on('click',function(e){var c,d,b;e.preventDefault(),a('#review_next').removeAttr('disabled'),c=a('#page_sort').val(),d=a('#review_listing_id').val(),b=a('#review_paged').val(),b=Number(b)-1,a('#review_paged').val(b),b<=1&&a(this).attr('disabled',!0),y(c,d,b)}),d=function(c){var a,b,d;return c==''?'':(a=U.toUpperCase(),d=a.replace("YY","YYYY"),b=moment(c,d).format('YYYY-MM-DD'),b)},s=function(f,g,h,i,j,k){var d=a(this),e=a('.homey_notification');if(e.find('.notify').remove(),f===''||g===''){a('#homey_booking_cost, .payment-list').empty();return}a.ajax({type:'post',url:c,data:{action:'homey_calculate_booking_cost',check_in_date:f,check_out_date:g,guests:h,extra_options:k,listing_id:i,security:j},beforeSend:function(){a('#homey_booking_cost, .payment-list').empty(),d.children('i').remove(),d.prepend('<i class="fa-left '+b+'"></i>'),e.find('.homey_preloader').show()},success:function(b){a('#homey_booking_cost, .payment-list').empty().html(b)},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)},complete:function(){d.children('i').removeClass(b),e.find('.homey_preloader').hide()}})},e=function(f,g,h,i,j,k,l){var d=a(this),e=a('.homey_notification');if(e.find('.notify').remove(),f===''||g===''||h===''){a('#homey_booking_cost, .payment-list').empty();return}a.ajax({type:'post',url:c,data:{action:'homey_calculate_hourly_booking_cost',check_in_date:f,start_hour:g,end_hour:h,guests:i,extra_options:l,listing_id:j,security:k},beforeSend:function(){a('#homey_booking_cost, .payment-list').empty(),d.children('i').remove(),d.prepend('<i class="fa-left '+b+'"></i>'),e.find('.homey_preloader').show()},success:function(b){a('#homey_booking_cost, .payment-list').empty().html(b)},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)},complete:function(){d.children('i').removeClass(b),e.find('.homey_preloader').hide()}})},_=function(d,e,f,g){var h=a(this),b=a('.homey_notification');b.find('.notify').remove(),a('.homey_extra_price input').each(function(){a(this).prop("checked",!1)}),a.ajax({type:'post',url:c,dataType:'json',data:{action:'check_booking_availability_on_date_change',check_in_date:d,check_out_date:e,listing_id:f,security:g},beforeSend:function(){a('#homey_booking_cost, .payment-list').empty(),b.find('.homey_preloader').show()},success:function(c){c.success?(a('#request_for_reservation, #request_for_reservation_mobile').removeAttr("disabled"),a('#instance_reservation, #instance_reservation_mobile').removeAttr("disabled"),b.prepend('<div class="notify text-success text-center btn-success-outlined btn btn-full-width">'+c.message+'</div>')):(b.prepend('<div class="notify text-danger text-center btn-danger-outlined btn btn-full-width">'+c.message+'</div>'),a('#request_for_reservation, #request_for_reservation_mobile').attr("disabled",!0),a('#instance_reservation, #instance_reservation_mobile').attr("disabled",!0))},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)},complete:function(){b.find('.homey_preloader').hide()}})},f=function(h,d,e,f,g){var i=a(this),b=a('.homey_notification');b.find('.notify').remove(),a('.homey_extra_price input').each(function(){a(this).prop("checked",!1)}),a.ajax({type:'post',url:c,dataType:'json',data:{action:'check_booking_availability_on_hour_change',check_in_date:h,start_hour:d,end_hour:e,listing_id:f,security:g},beforeSend:function(){a('#homey_booking_cost, .payment-list').empty(),b.find('.homey_preloader').show()},success:function(c){c.success?(a('#request_hourly_reservation, #request_hourly_reservation_mobile').removeAttr("disabled"),a('#instance_hourly_reservation, #instance_hourly_reservation_mobile').removeAttr("disabled"),b.prepend('<div class="notify text-success text-center btn-success-outlined btn btn-full-width">'+c.message+'</div>')):(b.prepend('<div class="notify text-danger text-center btn-danger-outlined btn btn-full-width">'+c.message+'</div>'),a('#request_hourly_reservation, #request_hourly_reservation_mobile').attr("disabled",!0),a('#instance_hourly_reservation, #instance_hourly_reservation_mobile').attr("disabled",!0))},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)},complete:function(){b.find('.homey_preloader').hide()}})},a("#single-listing-date-range input").on('focus',function(){a('.single-listing-booking-calendar-js').css("display","block"),a('.single-listing-booking-calendar-js').addClass("arrive_active"),a('.single-form-guests-js').css("display","none"),C=a(this).attr('name'),a('.single-listing-booking-calendar-js').removeClass('arrive_active depart_active').addClass(C+'_active')}),a(".single-guests-js input").on('focus',function(){a(this).prev("label").css("display","block"),a(this).addClass("on-focus"),a('.single-form-guests-js').css("display","block")}),g=0,A=0,ae=function(){a('.single-listing-booking-calendar-js ul li').on('click',function(){var b=a(this),c,d,e,f;if(b.show(),b.hasClass('past-day')||b.hasClass('homey-not-available-for-booking'))if(!b.hasClass('reservation_start'))return!1;g+=1,c=b.data('formatted-date'),d=b.data('timestamp'),C=='depart'&&d>p&&(a('.single-listing-calendar-wrap ul').find('li.to-day').removeClass('selected').siblings().removeClass('to-day in-between'),g=2),g==1?(p=d,a('.single-listing-calendar-wrap ul li').removeClass('to-day from-day selected in-between'),b.addClass('from-day selected'),a('.single-listing-booking-calendar-js').removeClass('arrive_active').addClass('depart_active'),a('input[name="arrive"]').val(c),a('input[name="depart"]').val(''),n!='per_hour'&&I()):g==2&&(A=d,b.addClass('to-day selected'),a('.single-listing-booking-calendar-js').removeClass('depart_active').addClass('arrive_active'),e=a('input[name="arrive"]').val(),e=S(e),f=S(c),e>=f&&n!='per_day_date'?(p=d,A=0,a('.single-listing-calendar-wrap ul li').removeClass('to-day from-day selected in-between'),b.addClass('from-day selected'),a('.single-listing-booking-calendar-js').removeClass('arrive_active').addClass('depart_active'),a('input[name="arrive"]').val(c),g=1):(D(p,A),a('input[name="depart"]').val(c),a('#single-booking-search-calendar, #single-overlay-booking-search-calendar').hide(),n!='per_hour'&&ah())),g==2&&(g=0)})},n!='per_hour'&&(ae(),a('.single-listing-calendar-wrap ul li').on('hover',function(){var b=a(this).data('timestamp');g==1&&D(p,b)}),D=function(b,c){a('.single-listing-calendar-wrap ul li').removeClass('in-between').filter(function(){var d=a(this).data('timestamp');return d>b&&d<c}).addClass('in-between')},I=function(){var b=a('input[name="arrive"]').val(),c,e,f,g;b=d(b),c=a('input[name="depart"]').val(),c=d(c),e=a('input[name="guests"]').val(),f=a('#listing_id').val(),g=a('#reservation-security').val(),s(b,c,e,f,g)},r=='yes'&&I(),ah=function(){var b=a('input[name="arrive"]').val(),c,g,e,f;b=d(b),c=a('input[name="depart"]').val(),c=d(c),g=a('input[name="guests"]').val(),e=a('#listing_id').val(),f=a('#reservation-security').val(),s(b,c,g,e,f),_(b,c,e,f)},a('.apply_guests').on('click',function(){var b=a('input[name="arrive"]').val(),c,g,e,f;b=d(b),c=a('input[name="depart"]').val(),c=d(c),g=a('input[name="guests"]').val(),e=a('#listing_id').val(),f=a('#reservation-security').val(),s(b,c,g,e,f),_(b,c,e,f)}),a('.homey_extra_price input').on('click',function(){var f=[],b,c,e,g,h,i;a('.homey_extra_price input').each(function(){var c,d,e;a(this).is(":checked")&&(c=a(this).data('name'),d=a(this).data('price'),e=a(this).data('type'),b='',b=c,b=b+'|'+d,b=b+'|'+e,f.push(b))}),c=a('input[name="arrive"]').val(),c=d(c),e=a('input[name="depart"]').val(),e=d(e),g=a('input[name="guests"]').val(),h=a('#listing_id').val(),i=a('#reservation-security').val(),s(c,e,g,h,i,f)})),n=='per_hour'&&(a('.hourly-js-desktop ul li').on('click',function(){var h=a(this),l=h.data('formatted-date'),b,c,g,k,j,i;if(a('input[name="arrive"]').val(l),a('.single-listing-hourly-calendar-wrap ul li').removeClass('selected'),h.addClass('selected'),a('#single-booking-search-calendar, #single-overlay-booking-search-calendar').hide(),b=a('input[name="arrive"]').val(),b=d(b),c=a('select[name="start_hour"]').val(),g=a('select[name="end_hour"]').val(),k=a('input[name="guests"]').val(),j=a('#listing_id').val(),i=a('#reservation-security').val(),e(b,c,g,k,j,i),b===''||c===''||g==='')return;f(b,c,g,j,i)}),a('#start_hour').on('change',function(){var b=a('input[name="arrive"]').val(),c,g,j,h,i;if(b=d(b),c=a('select[name="start_hour"]').val(),g=a('select[name="end_hour"]').val(),j=a('input[name="guests"]').val(),h=a('#listing_id').val(),i=a('#reservation-security').val(),e(b,c,g,j,h,i),b===''||c===''||g==='')return;f(b,c,g,h,i)}),a('#end_hour').on('change',function(){var b=a('input[name="arrive"]').val(),c,g,j,h,i;b=d(b),c=a('select[name="start_hour"]').val(),g=a('select[name="end_hour"]').val(),j=a('input[name="guests"]').val(),h=a('#listing_id').val(),i=a('#reservation-security').val(),e(b,c,g,j,h,i),f(b,c,g,h,i)}),a('.hourly-js-mobile ul li').on('click',function(){var h=a(this),l=h.data('formatted-date'),b,c,g,k,j,i;if(a('input[name="arrive"]').val(l),a('.single-listing-hourly-calendar-wrap ul li').removeClass('selected'),h.addClass('selected'),a('#single-booking-search-calendar, #single-overlay-booking-search-calendar').hide(),b=a('input[name="arrive"]').val(),b=d(b),c=a('#start_hour_overlay').val(),g=a('#end_hour_overlay').val(),k=a('input[name="guests"]').val(),j=a('#listing_id').val(),i=a('#reservation-security').val(),e(b,c,g,k,j,i),b===''||c===''||g==='')return;f(b,c,g,j,i)}),a('#start_hour_overlay').on('change',function(){var b=a('input[name="arrive"]').val(),c,g,j,h,i;if(b=d(b),c=a('#start_hour_overlay').val(),g=a('#end_hour_overlay').val(),j=a('input[name="guests"]').val(),h=a('#listing_id').val(),i=a('#reservation-security').val(),e(b,c,g,j,h,i),b===''||c===''||g==='')return;f(b,c,g,h,i)}),a('#end_hour_overlay').on('change',function(){var b=a('input[name="arrive"]').val(),c,g,j,h,i;b=d(b),c=a('#start_hour_overlay').val(),g=a('#end_hour_overlay').val(),j=a('input[name="guests"]').val(),h=a('#listing_id').val(),i=a('#reservation-security').val(),e(b,c,g,j,h,i),f(b,c,g,h,i)}),a('.apply_guests').on('click',function(){var b=a('input[name="arrive"]').val(),c,g,j,h,i;b=d(b),c=a('select[name="start_hour"]').val(),g=a('select[name="end_hour"]').val(),j=a('input[name="guests"]').val(),h=a('#listing_id').val(),i=a('#reservation-security').val(),e(b,c,g,j,h,i),f(b,c,g,h,i)}),a('#apply_guests_hourly').on('click',function(){var b=a('input[name="arrive"]').val(),c,g,j,h,i;b=d(b),c=a('#start_hour_overlay').val(),g=a('#end_hour_overlay').val(),j=a('input[name="guests"]').val(),h=a('#listing_id').val(),i=a('#reservation-security').val(),e(b,c,g,j,h,i),f(b,c,g,h,i)}),a('.homey_extra_price input').on('click',function(){var f=[],b,c,g,h,i,j,k;a('.homey_extra_price input').each(function(){var c,d,e;a(this).is(":checked")&&(c=a(this).data('name'),d=a(this).data('price'),e=a(this).data('type'),b='',b=c,b=b+'|'+d,b=b+'|'+e,f.push(b))}),c=a('input[name="arrive"]').val(),c=d(c),g=a('select[name="start_hour"]').val(),h=a('select[name="end_hour"]').val(),i=a('input[name="guests"]').val(),j=a('#listing_id').val(),k=a('#reservation-security').val(),e(c,g,h,i,j,k,f)})),ai=function(){a('.adult_plus').on('click',function(e){var f,b,d,c;e.preventDefault(),f=parseInt(a('input[name="guests"]').val())||0,b=parseInt(a('input[name="adult_guest"]').val()),d=parseInt(a('input[name="child_guest"]').val()),b++,a('.homey_adult').text(b),a('input[name="adult_guest"]').val(b),c=b+d,v!='yes'&&c==x?(a('.adult_plus').attr("disabled",!0),a('.child_plus').attr("disabled",!0)):v=='yes'&&c==H&&B!==''&&(a('.adult_plus').attr("disabled",!0),a('.child_plus').attr("disabled",!0)),a('input[name="guests"]').val(c)}),a('.adult_minus').on('click',function(e){var f,b,c,d;if(e.preventDefault(),f=parseInt(a('input[name="guests"]').val())||0,b=parseInt(a('input[name="adult_guest"]').val()),c=parseInt(a('input[name="child_guest"]').val()),b==0)return;b--,a('.homey_adult').text(b),a('input[name="adult_guest"]').val(b),d=b+c,a('input[name="guests"]').val(d),a('.adult_plus').removeAttr("disabled"),a('.child_plus').removeAttr("disabled")}),a('.child_plus').on('click',function(e){var f,b,d,c;e.preventDefault(),f=parseInt(a('input[name="guests"]').val()),b=parseInt(a('input[name="child_guest"]').val()),d=parseInt(a('input[name="adult_guest"]').val()),b++,a('.homey_child').text(b),a('input[name="child_guest"]').val(b),c=b+d,v!='yes'&&c==x?(a('.adult_plus').attr("disabled",!0),a('.child_plus').attr("disabled",!0)):v=='yes'&&c==H&&B!==''&&(a('.adult_plus').attr("disabled",!0),a('.child_plus').attr("disabled",!0)),a('input[name="guests"]').val(c)}),a('.child_minus').on('click',function(e){var f,b,c,d;if(e.preventDefault(),f=parseInt(a('input[name="guests"]').val()),b=parseInt(a('input[name="child_guest"]').val()),c=parseInt(a('input[name="adult_guest"]').val()),b==0)return;b--,a('.homey_child').text(b),a('input[name="child_guest"]').val(b),d=b+c,a('input[name="guests"]').val(d),a('.adult_plus').removeAttr("disabled"),a('.child_plus').removeAttr("disabled")})},ai(),a('#request_for_reservation, #request_for_reservation_mobile').on('click',function(r){var g,k,e,h,i,l,m,p,n,o,f,q,j;r.preventDefault(),g=a(this),k=[],h=a('input[name="arrive"]').val(),h=d(h),i=a('input[name="depart"]').val(),i=d(i),l=a('textarea[name="guest_message"]').val(),m=a('input[name="guests"]').val(),p=a('input[name="adult_guest"]').val(),n=a('input[name="child_guest"]').val(),o=a('#listing_id').val(),f=a('#new_reser_request_user_email').val(),f==''&&(f=a('#overlay-booking-module').find('#new_reser_request_user_email').val()),q=a('#reservation-security').val(),j=g.parents('.homey_notification'),j.find('.notify').remove(),ay(a('input[name="arrive"]').val(),a('input[name="depart"]').val(),m,l,p,n,f),a('.homey_extra_price input').each(function(){var b,c,d;a(this).is(":checked")&&(b=a(this).data('name'),c=a(this).data('price'),d=a(this).data('type'),e='',e=b,e=e+'|'+c,e=e+'|'+d,k.push(e))}),a.ajax({type:'post',url:c,dataType:'json',data:{action:'homey_add_reservation',check_in_date:h,check_out_date:i,guests:m,listing_id:o,extra_options:k,guest_message:l,new_reser_request_user_email:f,security:q},beforeSend:function(){g.children('i').remove(),g.prepend('<i class="fa-left '+b+'"></i>')},success:function(b){b.success?(a('.check_in_date, .check_out_date').val(''),j.prepend('<div class="notify text-success text-center btn-success-outlined btn btn-full-width">'+b.message+'</div>')):j.prepend('<div class="notify text-danger text-center btn-danger-outlined btn btn-full-width">'+b.message+'</div>')},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)},complete:function(){g.children('i').removeClass(b)}})}),a('#request_hourly_reservation').on('click',function(q){var f,g,p,o,k,j,l,m,n,h,i,e;q.preventDefault(),f=a(this),g=a('input[name="arrive"]').val(),g=d(g),p=a('textarea[name="guest_message"]').val(),o=a('select[name="start_hour"]').val(),k=a('select[name="end_hour"]').val(),j=a('input[name="guests"]').val(),l=a('#listing_id').val(),m=a('#new_reser_request_user_email').val(),n=a('#reservation-security').val(),h=f.parents('.homey_notification'),h.find('.notify').remove(),i=[],a('.homey_extra_price input').each(function(){var b,c,d;a(this).is(":checked")&&(b=a(this).data('name'),c=a(this).data('price'),d=a(this).data('type'),e='',e=b,e=e+'|'+c,e=e+'|'+d,i.push(e))}),a.ajax({type:'post',url:c,dataType:'json',data:{action:'homey_add_hourly_reservation',check_in_date:g,start_hour:o,end_hour:k,guests:j,extra_options:i,guest_message:p,listing_id:l,new_reser_request_user_email:m,security:n},beforeSend:function(){f.children('i').remove(),f.prepend('<i class="fa-left '+b+'"></i>')},success:function(b){b.success?(a('.check_in_date, .check_out_date').val(''),h.prepend('<div class="notify text-success text-center btn-success-outlined btn btn-full-width">'+b.message+'</div>')):h.prepend('<div class="notify text-danger text-center btn-danger-outlined btn btn-full-width">'+b.message+'</div>')},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)},complete:function(){f.children('i').removeClass(b)}})}),a('#request_hourly_reservation_mobile').on('click',function(q){var f,g,p,o,k,j,l,m,n,h,i,e;q.preventDefault(),f=a(this),g=a('input[name="arrive"]').val(),g=d(g),p=a('textarea[name="guest_message"]').val(),o=a('#start_hour_overlay').val(),k=a('#end_hour_overlay').val(),j=a('input[name="guests"]').val(),l=a('#listing_id').val(),m=a('#overlay-booking-module').find('#new_reser_request_user_email').val(),n=a('#reservation-security').val(),h=f.parents('.homey_notification'),h.find('.notify').remove(),i=[],a('.homey_extra_price input').each(function(){var b,c,d;a(this).is(":checked")&&(b=a(this).data('name'),c=a(this).data('price'),d=a(this).data('type'),e='',e=b,e=e+'|'+c,e=e+'|'+d,i.push(e))}),a.ajax({type:'post',url:c,dataType:'json',data:{action:'homey_add_hourly_reservation',check_in_date:g,start_hour:o,end_hour:k,guests:j,extra_options:i,guest_message:p,listing_id:l,new_reser_request_user_email:m,security:n},beforeSend:function(){f.children('i').remove(),f.prepend('<i class="fa-left '+b+'"></i>')},success:function(b){b.success?(a('.check_in_date, .check_out_date').val(''),h.prepend('<div class="notify text-success text-center btn-success-outlined btn btn-full-width">'+b.message+'</div>')):h.prepend('<div class="notify text-danger text-center btn-danger-outlined btn btn-full-width">'+b.message+'</div>')},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)},complete:function(){f.children('i').removeClass(b)}})}),a('#reserve_period_host').on('click',function(k){var d,g,h,i,j,f,e;k.preventDefault(),d=a(this),g=a('#period_start_date').val(),h=a('#period_end_date').val(),i=a('#period_listing_id').val(),j=a('#period_note').val(),f=a('#period-security').val(),e=a('.homey_notification'),e.find('.notify').remove(),a.ajax({type:'post',url:c,dataType:'json',data:{action:'homey_reserve_period_host',check_in_date:g,check_out_date:h,period_note:j,listing_id:i,security:f},beforeSend:function(){d.children('i').remove(),d.prepend('<i class="fa-left '+b+'"></i>')},success:function(a){a.success?(e.prepend('<div class="notify text-success text-center btn-success-outlined btn btn-full-width">'+a.message+'</div>'),window.location.href=ak):e.prepend('<div class="notify text-danger text-center btn-danger-outlined btn btn-full-width">'+a.message+'</div>')},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)},complete:function(){d.children('i').removeClass(b)}})}),aj=function(){var k=new Date,j=[],g=[],f="<div id='html_booked_info' style='display:none;'>",c,d,e,b,l,m,n;for(c in h)h.hasOwnProperty(c)&&c!==''&&(d=[],d.title=HOMEY_ajax_vars.hc_reserved_label,d.start=moment.unix(c).utc().format(),d.end=moment.unix(h[c]).utc().format(),d.editable=!1,d.color='#fdd2d2',d.textColor='#444444',f+="<span data-start-hours='"+moment.unix(c).utc().format('h:mm')+"' data-end-hours='"+moment.unix(h[c]).utc().format('h:mm')+"' data-date='"+moment.unix(c).utc().format("D-M-Y")+"'></span>",j.push(d));f+='</div>',a("body").append(f);for(e in i)i.hasOwnProperty(e)&&e!==''&&(b=[],b.title=HOMEY_ajax_vars.hc_pending_label,b.start=moment.unix(e).utc().format(),b.end=moment.unix(i[e]).utc().format(),b.editable=!1,b.color='#ffeedb',b.textColor='#333333',g.push(b));l=a.merge(j,g),m=document.getElementById('homey_hourly_calendar'),n=new FullCalendar.Calendar(m,{locale:HOMEY_ajax_vars.homey_current_lang,timeZone:HOMEY_ajax_vars.homey_timezone,plugins:['timeGrid'],defaultView:'timeGridWeek',slotDuration:'00:30:00',minTime:aD,maxTime:aC,events:l,defaultDate:k,selectHelper:!0,selectOverlap:!1,footer:!1,nowIndicator:!0,allDayText:HOMEY_ajax_vars.hc_hours_label,weekNumbers:!1,weekNumbersWithinDays:!0,weekNumberCalculation:'ISO',editable:!1,eventLimit:!0,unselectAuto:!1,isRTL:w,buttonText:{today:HOMEY_ajax_vars.hc_today_label}}),n.render()},n=='per_hour'&&aB=='yes'&&a('#homey_hourly_calendar').length>0&&aj(),F=a("#hourly_check_inn").val();function aG(){var c,d,e,b,f;a("#hourly_check_inn").val()!=''&&(a("span").removeClass('already-booked'),c=a("#post_already_bookd_dates").find("span"),d=a(".start_hour").find(".text"),e=a(".end_hour").find(".text"),b=U.replace("mm","M"),b=b.replace("dd","D"),b=b.replace("yy","Y"),f=moment(a("#hourly_check_inn").val(),b).format('D-M-Y'),a(d).each(function(c,b){a(b).closest('li').removeClass('disabled')}),a(e).each(function(c,b){a(b).closest('li').removeClass('disabled')}),a(d).each(function(e,d){var b='';a(d).text().indexOf(":")>-1&&(b=a(d).text(),b=b.replace(" am",""),b=b.replace(" pm",""),b=f+' '+b+':00',a(c).each(function(h,c){var e=a(c).data("datetime"),f=moment(e,"DD/MM/YYYY HH:mm:ss").diff(moment(b,"DD/MM/YYYY HH:mm:ss")),g=moment.duration(f);g==0&&(a(d).addClass("already-booked"),a(d).closest('li').addClass('disabled'))}))}),a(e).each(function(e,d){var b='';a(d).text().indexOf(":")>-1&&(b=a(d).text(),b=b.replace(" am",""),b=b.replace(" pm",""),b=f+' '+b+':00',a(c).each(function(h,c){var e=a(c).data("datetime"),f=moment(e,"DD/MM/YYYY HH:mm:ss").diff(moment(b,"DD/MM/YYYY HH:mm:ss")),g=moment.duration(f);g==0&&(a(d).addClass("already-booked"),a(d).closest('li').addClass('disabled'))}))})),F=a("#hourly_check_inn").val()}setInterval(function(){F!=a("#hourly_check_inn").val()&&aG()},500),a('#instance_reservation, #instance_reservation_mobile').on('click',function(q){var k,e,f,i,g,j,l,m,n,o,p,h;q.preventDefault(),k=[],f=a(this),i=a('input[name="arrive"]').val(),i=d(i),g=a('input[name="depart"]').val(),g=d(g),j=a('input[name="guests"]').val(),l=a('input[name="adult_guest"]').val(),m=a('input[name="child_guest"]').val(),n=a('textarea[name="guest_message"]').val(),o=a('#listing_id').val(),p=a('#reservation-security').val(),h=f.parents('.homey_notification'),h.find('.notify').remove(),ay(a('input[name="arrive"]').val(),a('input[name="depart"]').val(),j,n,l,m),a('.homey_extra_price input').each(function(){var b,c,d;a(this).is(":checked")&&(b=a(this).data('name'),c=a(this).data('price'),d=a(this).data('type'),e='',e=b,e=e+'|'+c,e=e+'|'+d,k.push(e))}),a.ajax({type:'POST',url:c,dataType:'json',data:{action:'homey_instance_booking',check_in_date:i,check_out_date:g,guests:j,adult_guest:l,child_guest:m,extra_options:k,guest_message:n,listing_id:o,security:p},beforeSend:function(){f.children('i').remove(),f.prepend('<i class="fa-left '+b+'"></i>')},success:function(b){b.success?(a('.check_in_date, .check_out_date').val(''),h.prepend('<div class="notify text-success text-center btn-success-outlined btn btn-full-width">'+b.message+'</div>'),window.location.href=b.instance_url):h.prepend('<div class="notify text-danger text-center btn-danger-outlined btn btn-full-width">'+b.message+'</div>')},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)},complete:function(){f.children('i').removeClass(b)}})}),a('#instance_hourly_reservation, #instance_hourly_reservation_mobile').on('click',function(r){var h,f,g,j,k,q,n,m,p,o,i,l,e;r.preventDefault(),h=a(this),j=a('input[name="arrive"]').val(),j=d(j),f=a('select[name="start_hour"]').val(),g=a('select[name="end_hour"]').val(),k=a('input[name="guests"]').val(),q=a('input[name="adult_guest"]').val(),n=a('input[name="child_guest"]').val(),m=a('textarea[name="guest_message"]').val(),p=a('#listing_id').val(),o=a('#reservation-security').val(),i=h.parents('.homey_notification'),i.find('.notify').remove(),aF(a('input[name="arrive"]').val(),f,g,k,m,q,n),(O||ad<991)&&(f=a('#start_hour_overlay').val(),g=a('#end_hour_overlay').val()),l=[],a('.homey_extra_price input').each(function(){var b,c,d;a(this).is(":checked")&&(b=a(this).data('name'),c=a(this).data('price'),d=a(this).data('type'),e='',e=b,e=e+'|'+c,e=e+'|'+d,l.push(e))}),a.ajax({type:'POST',url:c,dataType:'json',data:{action:'homey_instance_hourly_booking',check_in_date:j,start_hour:f,end_hour:g,guests:k,extra_options:l,listing_id:p,guest_message:m,security:o},beforeSend:function(){h.children('i').remove(),h.prepend('<i class="fa-left '+b+'"></i>')},success:function(b){b.success?(a('.check_in_date, .start_hour, .end_hour').val(''),i.prepend('<div class="notify text-success text-center btn-success-outlined btn btn-full-width">'+b.message+'</div>'),window.location.href=b.instance_url):i.prepend('<div class="notify text-danger text-center btn-danger-outlined btn btn-full-width">'+b.message+'</div>')},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)},complete:function(){h.children('i').removeClass(b)}})}),a('.confirm-reservation').on('click',function(g){var d,f,e;g.preventDefault(),d=a(this),f=d.data('reservation_id'),e=d.parents('.user-dashboard-right'),a.ajax({type:'post',url:c,dataType:'json',data:{action:'homey_confirm_reservation',reservation_id:f},beforeSend:function(){d.children('i').remove(),d.prepend('<i class="fa-left '+b+'"></i>')},success:function(a){e.find('.alert').remove(),a.success?(e.find('.dashboard-area').prepend(a.message),d.remove()):e.find('.dashboard-area').prepend(a.message)},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)},complete:function(){d.children('i').removeClass(b)}})}),a('.confirm-offsite-reservation').on('click',function(g){var d,f,e;g.preventDefault(),d=a(this),f=d.data('reservation_id'),e=d.parents('.user-dashboard-right'),a.ajax({type:'post',url:c,dataType:'json',data:{action:'homey_confirm_offsite_reservation',reservation_id:f},beforeSend:function(){d.children('i').remove(),d.prepend('<i class="fa-left '+b+'"></i>')},success:function(a){e.find('.alert').remove(),a.success?(e.find('.dashboard-area').prepend(a.message),d.remove()):e.find('.dashboard-area').prepend(a.message)},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)},complete:function(){d.children('i').removeClass(b)}})}),a('#guest_paid_button').on('click',function(g){var d,e,f;g.preventDefault(),d=a(this),e=d.parents('.user-dashboard-right'),f=a('#reservation_id').val(),a.ajax({type:'post',url:c,dataType:'json',data:{action:'homey_guest_made_payment',reservation_id:f},beforeSend:function(){d.children('i').remove(),d.prepend('<i class="fa-left '+b+'"></i>')},success:function(a){e.find('.alert').remove(),a.success?(e.find('.dashboard-area').prepend(a.message),d.remove()):e.find('.dashboard-area').prepend(a.message)},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)},complete:function(){d.children('i').removeClass(b)}})}),a('#decline').on('click',function(h){var d,f,g,e;h.preventDefault(),d=a(this),f=a('#reservationID').val(),g=a('#reason22').val(),e=d.parents('.user-dashboard-right'),a.ajax({type:'post',url:c,dataType:'json',data:{action:'homey_decline_reservation',reservation_id:f,reason:g},beforeSend:function(){d.children('i').remove(),d.prepend('<i class="fa-left '+b+'"></i>')},success:function(a){e.find('.alert').remove(),a.success?(d.attr("disabled",!0),window.location.reload()):e.find('.dashboard-area').prepend('<div class="alert alert-danger alert-dismissible" role="alert"><button type="button" class="close" data-hide="alert" aria-label="Close"><i class="fa fa-close"></i></button>'+a.message+'</div>')},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)},complete:function(){d.children('i').removeClass(b)}})}),a('#decline_hourly').on('click',function(h){var d,f,g,e;h.preventDefault(),d=a(this),f=a('#reservationID').val(),g=a('#reason').val(),e=d.parents('.user-dashboard-right'),a.ajax({type:'post',url:c,dataType:'json',data:{action:'homey_decline_hourly_reservation',reservation_id:f,reason:g},beforeSend:function(){d.children('i').remove(),d.prepend('<i class="fa-left '+b+'"></i>')},success:function(a){e.find('.alert').remove(),a.success?(d.attr("disabled",!0),window.location.reload()):e.find('.dashboard-area').prepend('<div class="alert alert-danger alert-dismissible" role="alert"><button type="button" class="close" data-hide="alert" aria-label="Close"><i class="fa fa-close"></i></button>'+a.message+'</div>')},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)},complete:function(){d.children('i').removeClass(b)}})}),a("#decline-reservation-btn").click(function(){a('html, body').animate({scrollTop:a('#decline-reservation').offset().top+150},'slow')}),a("#cancel-reservation-btn").click(function(){a('html, body').animate({scrollTop:a('#cancel-reservation').offset().top+150},'slow')}),a('#cancelled').on('click',function(i){var d,f,g,h,e;i.preventDefault(),d=a(this),f=a('#reservationID').val(),g=a('#reason').val(),h=a('#host_cancel').val(),e=d.parents('.user-dashboard-right'),a.ajax({type:'post',url:c,dataType:'json',data:{action:'homey_cancelled_reservation',reservation_id:f,host_cancel:h,reason:g},beforeSend:function(){d.children('i').remove(),d.prepend('<i class="fa-left '+b+'"></i>')},success:function(a){e.find('.alert').remove(),a.success?(d.attr("disabled",!0),window.location.reload()):e.find('.dashboard-area').prepend('<div class="alert alert-danger alert-dismissible" role="alert"><button type="button" class="close" data-hide="alert" aria-label="Close"><i class="fa fa-close"></i></button>'+a.message+'</div>')},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)},complete:function(){d.children('i').removeClass(b)}})}),a('#cancelled_hourly').on('click',function(i){var d,f,g,h,e;i.preventDefault(),d=a(this),f=a('#reservationID').val(),g=a('#reason').val(),h=a('#host_cancel').val(),e=d.parents('.user-dashboard-right'),a.ajax({type:'post',url:c,dataType:'json',data:{action:'homey_cancelled_hourly_reservation',reservation_id:f,host_cancel:h,reason:g},beforeSend:function(){d.children('i').remove(),d.prepend('<i class="fa-left '+b+'"></i>')},success:function(a){e.find('.alert').remove(),a.success?(d.attr("disabled",!0),window.location.reload()):e.find('.dashboard-area').prepend('<div class="alert alert-danger alert-dismissible" role="alert"><button type="button" class="close" data-hide="alert" aria-label="Close"><i class="fa fa-close"></i></button>'+a.message+'</div>')},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)},complete:function(){d.children('i').removeClass(b)}})}),am=function(d,e,f){a.ajax({type:'post',url:c,dataType:'json',data:{action:'homey_booking_paypal_payment',reservation_id:e,security:f},beforeSend:function(){d.children('i').remove(),d.prepend('<i class="fa-left '+b+'"></i>'),a('#homey_notify').html('<div class="alert alert-success alert-dismissible" role="alert">'+q+'</div>')},success:function(b){b.success?window.location.href=b.payment_execute_url:a('#homey_notify').html('<div class="alert alert-danger alert-dismissible" role="alert">'+b.message+'</div>')},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)}})},an=function(d,e,f){a.ajax({type:'post',url:c,dataType:'json',data:{action:'homey_hourly_booking_paypal_payment',reservation_id:e,security:f},beforeSend:function(){d.children('i').remove(),d.prepend('<i class="fa-left '+b+'"></i>'),a('#homey_notify').html('<div class="alert alert-success alert-dismissible" role="alert">'+q+'</div>')},success:function(b){b.success?window.location.href=b.payment_execute_url:a('#homey_notify').html('<div class="alert alert-danger alert-dismissible" role="alert">'+b.message+'</div>')},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)}})},a('#make_booking_payment').on('click',function(g){var c,d,e,b,f;g.preventDefault(),c=a(this),d=a('#reservation_id').val(),e=a('#checkout-security').val(),b=a("input[name='payment_gateway']:checked").val(),b==void 0&&a('#homey_notify').html('<div class="alert alert-danger alert-dismissible" role="alert">'+u+'</div>'),b==='paypal'?am(c,d,e):b==='stripe'&&(f=a(this).parents('.dashboard-area'),f.find('.homey_stripe_simple button').trigger("click"),a('#homey_notify').html(''))}),a('#make_hourly_booking_payment').on('click',function(g){var c,d,e,b,f;g.preventDefault(),c=a(this),d=a('#reservation_id').val(),e=a('#checkout-security').val(),b=a("input[name='payment_gateway']:checked").val(),b==void 0&&a('#homey_notify').html('<div class="alert alert-danger alert-dismissible" role="alert">'+u+'</div>'),b==='paypal'?an(c,d,e):b==='stripe'&&(f=a(this).parents('.dashboard-area'),f.find('.homey_stripe_simple button').trigger("click"),a('#homey_notify').html(''))}),ao=function(d,e,f,g,h,i,j,k,l,m){a.ajax({type:'post',url:c,dataType:'json',data:{action:'homey_instance_booking_paypal_payment',check_in:e,check_out:f,guests:g,extra_options:h,listing_id:i,renter_message:j,security:k,reservor_name:l,reservor_phone:m},beforeSend:function(){d.children('i').remove(),d.prepend('<i class="fa-left '+b+'"></i>'),a('#instance_noti').html('<div class="alert alert-success alert-dismissible" role="alert">'+q+'</div>')},success:function(b){b.success?window.location.href=b.payment_execute_url:a('#instance_noti').html('<div class="alert alert-danger alert-dismissible" role="alert">'+b.message+'</div>')},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)}})},ap=function(d,e,f,g,h,i,j,k,l,m,n){a.ajax({type:'post',url:c,dataType:'json',data:{action:'homey_hourly_instance_booking_paypal_payment',check_in:e,check_in_hour:f,check_out_hour:g,start_hour:h,end_hour:i,guests:j,extra_options:k,listing_id:l,renter_message:m,security:n},beforeSend:function(){d.children('i').remove(),d.prepend('<i class="fa-left '+b+'"></i>'),a('#instance_noti').html('<div class="alert alert-success alert-dismissible" role="alert">'+q+'</div>')},success:function(b){b.success?window.location.href=b.payment_execute_url:a('#instance_noti').html('<div class="alert alert-danger alert-dismissible" role="alert">'+b.message+'</div>')},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)}})},a('#make_instance_booking_payment').on('click',function(o){var n,m,l,f,g,h,i,j,k,d,b,c,e;o.preventDefault(),n=a(this),m=a('#check_in_date').val(),l=a('#check_out_date').val(),f=a('#guests').val(),g=a('#listing_id').val(),h=a('#renter_message').val(),i=a('#checkout-security').val(),j=a('#first-name').val()+' '+a('#last-name').val(),k=a('#phone').val(),d=[],a('.homey_extra_price').each(function(){var c=a(this).data('name'),e=a(this).data('price'),f=a(this).data('type');b='',b=c,b=b+'|'+e,b=b+'|'+f,d.push(b)}),a('#instance_noti').empty(),c=a("input[name='payment_gateway']:checked").val(),c==void 0&&a('#instance_noti').html('<div class="alert alert-danger alert-dismissible" role="alert">'+u+'</div>'),c==='paypal'?ao(n,m,l,f,d,g,h,i,j,k):c==='stripe'&&(e=a(this).parents('form'),e.find('.homey_stripe_simple button').trigger("click"))}),a('#make_hourly_instance_booking_payment').on('click',function(p){var o,n,m,f,g,h,i,j,k,l,d,b,c,e;p.preventDefault(),o=a(this),n=a('#check_in_date').val(),m=a('#check_in_hour').val(),f=a('#check_out_hour').val(),g=a('#start_hour').val(),h=a('#end_hour').val(),i=a('#guests').val(),j=a('#listing_id').val(),k=a('#renter_message').val(),l=a('#checkout-security').val(),d=[],a('.homey_extra_price').each(function(){var c=a(this).data('name'),e=a(this).data('price'),f=a(this).data('type');b='',b=c,b=b+'|'+e,b=b+'|'+f,d.push(b)}),a('#instance_noti').empty(),c=a("input[name='payment_gateway']:checked").val(),c==void 0&&a('#instance_noti').html('<div class="alert alert-danger alert-dismissible" role="alert">'+u+'</div>'),c==='paypal'?ap(o,n,m,f,g,h,i,d,j,k,l):c==='stripe'&&(e=a(this).parents('form'),e.find('.homey_stripe_simple button').trigger("click"))}),a('button.homey-booking-step-1').on('click',function(j){var d,g,h,e,i,f;j.preventDefault(),d=a(this),g=a('#first-name').val(),h=a('#last-name').val(),e=a('#email').val(),typeof e=='undefined'&&(e=''),i=a('#phone').val(),f=a('#renter_message').val(),a.ajax({type:'post',url:c,dataType:'json',data:{action:'homey_instance_step_1',first_name:g,last_name:h,email:e,phone:i},beforeSend:function(){d.children('i').remove(),a('.homey-booking-block-body-1 .continue-block-button p.error').remove(),d.prepend('<i class="fa-left '+b+'"></i>')},success:function(b){b.success?(a('.homey-booking-block-title-2').removeClass('inactive mb-0'),a('.homey-booking-block-body-2').slideDown('slow'),a('.homey-booking-block-title-1').addClass('mb-0'),a('.homey-booking-block-body-1').slideUp('slow'),a('.homey-booking-block-title-1 .text-success, .homey-booking-block-title-1 .edit-booking-form').removeClass('hidden'),a('.homey-booking-block-title-1 .text-success, .homey-booking-block-title-1 .edit-booking-form').show(),a('#guest_message').val(f)):a('.homey-booking-block-body-1 .continue-block-button').prepend('<p class="error text-danger"><i class="fa fa-close"></i> '+b.message+'</p>')},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)},complete:function(){d.children('i').removeClass(b)}})}),a('button.homey-booking-step-2').on('click',function(b){b.preventDefault();var c=a("input[name='agreement']:checked").val();a('.homey-booking-block-body-2 .continue-block-button p.error').remove(),c!=void 0?(a('.homey-booking-block-title-3').removeClass('inactive mb-0'),a('.homey-booking-block-body-3').slideDown('slow'),a('.homey-booking-block-title-2').addClass('mb-0'),a('.homey-booking-block-body-2').slideUp('slow'),a('.homey-booking-block-title-2 .text-success, .homey-booking-block-title-2 .edit-booking-form').removeClass('hidden'),a('.homey-booking-block-title-2 .text-success, .homey-booking-block-title-2 .edit-booking-form').show()):a('.homey-booking-block-body-2 .continue-block-button').prepend('<p class="error text-danger"><i class="fa fa-close"></i> '+aw+'</p>')}),a('.homey-booking-block-title-1 .edit-booking-form').on('click',function(b){b.preventDefault(),a('.homey-booking-block-title-2, .homey-booking-block-title-3').addClass('mb-0'),a('.homey-booking-block-body-2, .homey-booking-block-body-3').slideUp('slow'),a('.homey-booking-block-title-1').removeClass('mb-0'),a('.homey-booking-block-body-1').slideDown('slow')}),a('.homey-booking-block-title-2 .edit-booking-form').on('click',function(b){b.preventDefault(),a('.homey-booking-block-title-1, .homey-booking-block-title-3').addClass('mb-0'),a('.homey-booking-block-body-1, .homey-booking-block-body-3').slideUp('slow'),a('.homey-booking-block-title-2').removeClass('mb-0'),a('.homey-booking-block-body-2').slideDown('slow')}),a('.contact_listing_host').on('click',function(h){var d,g,e,f;h.preventDefault(),d=a(this),g=d.parents('.host-contact-wrap'),e=d.parents('form'),f=g.find('.homey_contact_messages'),a.ajax({url:c,data:e.serialize(),method:e.attr('method'),dataType:"JSON",beforeSend:function(){d.children('i').remove(),d.prepend('<i class="fa-left '+b+'"></i>')},success:function(a){a.success?(f.empty().append(a.msg),e.find('input').val(''),e.find('textarea').val('')):(f.empty().append(a.msg),d.children('i').removeClass(b)),o==1&&homeyReCaptchaReset()},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)},complete:function(){d.children('i').removeClass(b),d.children('i').addClass(E)}})}),a('#host_detail_contact').on('click',function(g){var d,f,e;g.preventDefault(),d=a(this),f=a(this),e=f.parents('form'),a.ajax({type:'post',url:c,data:e.serialize(),method:e.attr('method'),dataType:"JSON",beforeSend:function(){d.children('i').remove(),d.prepend('<i class="fa-left '+b+'"></i>')},success:function(c){d.children('i').removeClass(b),c.success?(a('#form_messages').empty().append(c.msg),d.children('i').addClass(E)):a('#form_messages').empty().append(c.msg),o==1&&homeyReCaptchaReset()},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)}})}),a('#homey-print').length>0&&a('#homey-print').on('click',function(e){e.preventDefault();var d,b;d=a(this).attr('data-listing-id'),b=window.open('','Print Me','width=850 ,height=842'),a.ajax({type:'POST',url:c,data:{action:'homey_create_print',listing_id:d},success:function(a){b.document.write(a),b.document.close(),b.focus()},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)}})}),a('.homey_login_button').on('click',function(b){b.preventDefault();var c=a(this);aq(c)}),a('.homey-register-button').on('click',function(b){b.preventDefault();var c=a(this);ar(c)}),aq=function(d){var e=d.parents('form'),b=a('.homey_login_messages');a.ajax({type:'post',url:c,dataType:'json',data:e.serialize(),beforeSend:function(){b.empty().append('<p class="success text-success"> '+m+'</p>')},success:function(c){if(c.success){b.empty().append('<p class="success text-success"><i class="fa fa-check"></i> '+c.msg+'</p>');var a=jQuery(document).find("input[name='_wp_http_referer']").val();return a!='/'&&Y=='same_page'?(a.indexOf("?")!==-1?window.location.href=a+'&n='+(new Date).getTime():window.location.href=a+'?n='+(new Date).getTime(),!1):Y=='same_page'?(window.location.reload(!0),!1):(a.indexOf("?")!==-1?window.location.href=W+'&n='+(new Date).getTime():window.location.href=W+'?n='+(new Date).getTime(),!1)}else b.empty().append('<p class="error text-danger"><i class="fa fa-close"></i> '+c.msg+'</p>');o==1&&homeyReCaptchaReset()},error:function(a,d,e){b.empty().append('<p class="error text-danger"><i class="fa fa-close"></i>'+HOMEY_ajax_vars.homey_login_register_msg_text+'</p>');var c=eval("("+a.responseText+")");console.log(c.Message)}})},ar=function(d){var e=d.parents('form'),b=a('.homey_register_messages');a.ajax({type:'post',url:c,dataType:'json',data:e.serialize(),beforeSend:function(){b.empty().append('<p class="success text-success"> '+m+'</p>')},success:function(c){c.success?(b.empty().append('<p class="success text-success"><i class="fa fa-check"></i> '+c.msg+'</p>'),a('.homey_login_messages').empty().append('<p class="success text-success"><i class="fa fa-check"></i> '+c.msg+'</p>'),a('#modal-register').modal('hide'),a('#modal-login').modal('show')):b.empty().append('<p class="error text-danger"><i class="fa fa-close"></i> '+c.msg+'</p>'),o==1&&homeyReCaptchaReset(),o==1&&homeyReCaptchaReset()},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)}})},a('#homey_forgetpass').on('click',function(b){b.preventDefault();var d=a('#user_login_forgot').val(),e=a('#homey_resetpassword_security').val();a.ajax({type:'post',url:c,dataType:'json',data:{action:'homey_reset_password',user_login:d,security:e},beforeSend:function(){a('#homey_msg_reset').empty().append('<p class="success text-success"> '+m+'</p>')},success:function(b){b.success?a('#homey_msg_reset').empty().append('<p class="success text-success"><i class="fa fa-check"></i> '+b.msg+'</p>'):a('#homey_msg_reset').empty().append('<p class="error text-danger"><i class="fa fa-close"></i> '+b.msg+'</p>')},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)}})}),a('#homey_reset_password').length>0&&a('#homey_reset_password').on('click',function(i){var d,e,f,g,h;i.preventDefault(),d=a(this),e=a('input[name="rp_login"]').val(),f=a('input[name="rp_key"]').val(),g=a('input[name="new_password"]').val(),h=a('input[name="homey_resetpassword_security"]').val(),a.ajax({type:'post',url:c,dataType:'json',data:{action:'homey_reset_password_2',rq_login:e,password:g,rp_key:f,security:h},beforeSend:function(){d.children('i').remove(),d.prepend('<i class="fa-left '+b+'"></i>')},success:function(b){b.success?(a('#password_reset_msgs, .homey_login_messages').empty().append('<p class="success text-success"><i class="fa fa-check"></i> '+b.msg+'</p>'),a('#new_password').val(''),a('#modal-login').modal('show')):a('#password_reset_msgs').empty().append('<p class="error text-danger"><i class="fa fa-close"></i> '+b.msg+'</p>')},error:function(a){},complete:function(){d.children('i').removeClass(b)}})}),a('.homey-facebook-login').on('click',function(){var b=a(this);at(b)}),at=function(b){var e=b.parents('form'),d=a('.homey_login_messages');a.ajax({type:'POST',url:c,data:{action:'homey_facebook_login_oauth'},beforeSend:function(){d.empty().append('<p class="success text-success"> '+m+'</p>')},success:function(a){window.location.href=a},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)}})},a('.homey-yahoo-login').on('click',function(){var b=a(this);au(b)}),au=function(b){var e=b.parents('form'),d=a('.homey_login_messages');a.ajax({type:'POST',url:c,data:{action:'homey_yahoo_login'},beforeSend:function(){d.empty().append('<p class="success text-success"> '+m+'</p>')},success:function(a){window.location.href=a},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)}})},a('.homey-google-login').on('click',function(){var b=a(this);av(b)}),av=function(b){var e=b.parents('form'),d=a('.homey_login_messages');a.ajax({type:'POST',url:c,data:{action:'homey_google_login_oauth'},beforeSend:function(){d.empty().append('<p class="success text-success"> '+m+'</p>')},success:function(a){window.location.href=a},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)}})},L=function(){a.ajax({url:c,data:{action:'homey_chcek_messages_notifications'},method:"POST",dataType:"JSON",beforeSend:function(){},success:function(b){b.success&&(b.notification?(a('.user-alert').show(),a('.msg-alert').show()):(a('.user-alert').hide(),a('.msg-alert').hide()))}})},X=function(){a.ajax({url:c,data:{action:'homey_booking_notification'},method:"POST",dataType:"JSON",beforeSend:function(){},success:function(b){b.success&&(b.notification!=0?a('.new-booking-alert').show():a('.new-booking-alert').hide())}})},a(document).ready(function(){L(),parseInt(l,10)!=0&&setInterval(function(){L()},6e4),X(),parseInt(l,10)!=0&&setInterval(function(){X()},6e4)}),a('.btn_extra_expense').on('click',function(b){b.preventDefault();var c=a('#resrv_id').val()}),a('.homey-woocommerce-featured-pay').on('click',function(e){e.preventDefault();let b=a(this).data('listid'),d=a(this).data('featured');j(t),a.ajax({type:'POST',url:c,data:{action:'homey_featured_woo_pay',listing_id:b,is_featured:d},success:function(c){if(c.success!=!1){var e=HOMEY_ajax_vars.woo_checkout_url+'?listing_id='+b+'&is_featured='+d;window.location.href=e}else a('#homey_modal').modal('hide')},error:function(a){}})}),a('.homey-woo-reservation-pay').on('click',function(d){d.preventDefault();let b=a(this).data('reservation_id');j(t),a.ajax({type:'POST',url:c,data:{action:'homey_reservation_woo_pay',reservation_id:b},success:function(c){if(c.success!=!1){var d=HOMEY_ajax_vars.woo_checkout_url+'?reservation_id='+b;window.location.href=d}else a('#homey_modal').modal('hide')},error:function(a){}})}),a('#make_woocommerce_instant_booking_payment').on('click',function(l){var k,h,i,f,g,e,m,d,b;l.preventDefault(),j(t),k=a(this),h=a('#check_in_date').val(),i=a('#check_out_date').val(),f=a('#guests').val(),g=a('#listing_id').val(),e=a('#renter_message').val(),m=a('#checkout-security').val(),d=[],a('.homey_extra_price').each(function(){var c=a(this).data('name'),e=a(this).data('price'),f=a(this).data('type');b='',b=c,b=b+'|'+e,b=b+'|'+f,d.push(b)}),a.ajax({type:'POST',url:c,data:{action:'homey_instant_reservation_woo_pay',check_in:h,check_out:i,guests:f,extra_options:d,listing_id:g,renter_message:e},success:function(b){if(b.success!=!1){var c=HOMEY_ajax_vars.woo_checkout_url+'?check_in='+h+'&check_out='+i+'&guests='+f+'&extra_options='+d+'&listing_id='+g+'&renter_message='+e;window.location.href=c}else a('#homey_modal').modal('hide')},error:function(a){}})}),a('#make_hourly_woocommerce_instant_booking_payment').on('click',function(p){var o,i,f,g,h,e,k,l,m,n,d,b;p.preventDefault(),j(t),o=a(this),i=a('#check_in_date').val(),f=a('#check_in_hour').val(),g=a('#check_out_hour').val(),h=a('#start_hour').val(),e=a('#end_hour').val(),k=a('#guests').val(),l=a('#listing_id').val(),m=a('#renter_message').val(),n=a('#checkout-security').val(),d=[],a('.homey_extra_price').each(function(){var c=a(this).data('name'),e=a(this).data('price'),f=a(this).data('type');b='',b=c,b=b+'|'+e,b=b+'|'+f,d.push(b)}),a('#instance_noti').empty(),a.ajax({type:'post',url:c,dataType:'json',data:{action:'homey_instant_hourly_reservation_woo_pay',check_in:i,check_in_hour:f,check_out_hour:g,start_hour:h,end_hour:e,guests:k,extra_options:d,listing_id:l,renter_message:m,security:n},success:function(b){if(b.success!=!1){var c=HOMEY_ajax_vars.woo_checkout_url+'?start_hour='+h+'&end_hour='+e+'&check_in='+i+'&check_in_hour='+f+'&check_out_hour='+g+'&guests='+k+'&extra_options='+d+'&listing_id='+l+'&renter_message='+m;window.location.href=c}else a('#homey_modal').modal('hide')},error:function(a,c,d){var b=eval("("+a.responseText+")");console.log(b.Message)}})}),a("#has_social_account").data('hasSocialAccount')>0&&(a('#modal-login').modal('show'),a(".homey_login_messages").empty().append('<p class="error text-danger"><i class="fa fa-close"></i>You are already registered, please login here.</p>'))}function ay(c,i,d,e,f,g,h){var b=a("input[name='_wp_http_referer']").val(),j;typeof b!="undefined"&&(j=b.split('?')[0]+'?arrive='+c+'&depart='+i+'&guest='+d+'&adult_guest='+f+'&child_guest='+g+'&guest_message='+e+'&new_reser_request_user_email='+h,a("input[name='_wp_http_referer']").val(j))}function aF(c,i,d,e,f,g,h){var b=a("input[name='_wp_http_referer']").val(),j;typeof b!="undefined"&&(j=b.split('?')[0]+'?arrive='+c+'&start='+i+'&end='+d+'&guest='+e+'&adult_guest='+g+'&child_guest='+h+'&guest_message='+f,a("input[name='_wp_http_referer']").val(j))}jQuery('body').hasClass("single-listing")&&(M=[],jQuery('.homey_extra_price input').each(function(){var a,b,c;jQuery(this).is(":checked")&&(a=jQuery(this).data('name'),b=jQuery(this).data('price'),c=jQuery(this).data('type'),k='',k=a,k=k+'|'+b,k=k+'|'+c,M.push(k))}),z=jQuery('input[name="arrive"]').val(),z=d(z),R=jQuery('select[name="start_hour"]').val(),T=jQuery('select[name="end_hour"]').val(),az=jQuery('input[name="guests"]').val(),al=jQuery('#listing_id').val(),$=jQuery('#reservation-security').val(),typeof R!='undefined'&&typeof T!='undefined'&&e(z,R,T,az,al,$,M)),jQuery("#place_order").click(function(){jQuery('html, body').animate({scrollTop:jQuery('.woocommerce-info').offset().top},'slow')})})